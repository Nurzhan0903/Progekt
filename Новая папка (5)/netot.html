<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Player üéÇ</title>

<style>
/* 1. –û–ë–©–ò–ô –§–û–ù */
body {
  margin: 0;
  font-family: 'Segoe UI', Roboto, sans-serif;
  background: url('img/bg.jpg') no-repeat center center fixed; 
  background-size: cover;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  color: #fff;
}

/* –°–ù–ï–ì */
.snow-container {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  pointer-events: none; z-index: 1;
}
.snowflake {
  position: absolute; top: -10px; color: rgb(10, 5, 250);
  user-select: none; animation: fall linear infinite;
}
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

/* 2. –°–¢–ï–ö–õ–Ø–ù–ù–ê–Ø –ö–ê–†–¢–û–ß–ö–ê */
.glass {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 30px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.3);
}

/* –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω */
.main-start {
  padding: 40px;
  text-align: center;
  cursor: pointer;
  z-index: 5;
  transition: transform 0.3s;
}

/* 3. –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –°–û –°–ö–†–û–õ–õ–û–ú */
.modal {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  display: none; justify-content: center; align-items: center;
  z-index: 10; background: rgba(0, 0, 0, 0.4);
}

.modal-content {
  width: 90%;
  max-width: 400px;
  height: 80vh; 
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}

.modal-header {
  padding: 20px 20px 10px;
  text-align: center;
  flex-shrink: 0;
}

.scroll-body {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0 25px 30px;
  scroll-behavior: smooth;
}

.scroll-body::-webkit-scrollbar { width: 4px; }
.scroll-body::-webkit-scrollbar-thumb { background: #ff9a9e; border-radius: 10px; }

/* –ü–õ–ï–ï–† */
.player {
  background: rgba(0, 0, 0, 0.25);
  padding: 20px;
  border-radius: 20px;
  text-align: center;
  margin-bottom: 25px;
}

#cover {
  width: 160px; height: 160px;
  object-fit: cover; border-radius: 15px;
  box-shadow: 0 8px 15px rgba(0,0,0,0.3);
}

#song-title { font-weight: bold; margin: 15px 0 10px; color: #1db954; font-size: 18px; }

.progress-container {
  background: rgba(255,255,255,0.2);
  height: 5px; border-radius: 5px; cursor: pointer;
}
.progress { background: #ff9a9e; height: 100%; width: 0%; border-radius: 5px; }
.time-info { display: flex; justify-content: space-between; font-size: 10px; margin: 5px 0 15px; color: #ccc; }

.controls { display: flex; justify-content: center; gap: 15px; align-items: center; }
.btn-ctrl {
  background: rgba(255,255,255,0.15); border: none; color: white;
  width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 20px;
}
#playBtn { background: #fff; color: #333; width: 55px; height: 55px; }

/* –¢–ï–ö–°–¢ */
.birthday-text {
  font-size: 16px;
  line-height: 1.8;
  white-space: pre-wrap; 
  margin-bottom: 10px;
}

/* 4. –ù–û–í–ê–Ø 3D –ö–ê–†–£–°–ï–õ–¨ –°–¢–ò–ö–ï–†–û–í */
.carousel-view {
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1000px;
  height: 220px;
  margin-top: 20px;
  padding-bottom: 40px;
}

.carousel-card {
  width: 100px;
  height: 140px;
  background: white;
  border-radius: 12px;
  padding: 5px;
  box-shadow: 0 8px 15px rgba(0,0,0,0.4);
  transition: all 0.5s ease;
  position: absolute;
  cursor: pointer;
}

.carousel-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
}

/* –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–µ–µ—Ä–æ–º (–∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ) */
.carousel-card:nth-child(1) { transform: translateX(-100px) rotateY(30deg) scale(0.9); z-index: 1; opacity: 0.8; }
.carousel-card:nth-child(2) { transform: translateX(-50px) rotateY(15deg) scale(0.95); z-index: 2; opacity: 0.9; }
.carousel-card:nth-child(3) { transform: translateX(0) rotateY(0deg) scale(1.1); z-index: 5; } /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è */
.carousel-card:nth-child(4) { transform: translateX(50px) rotateY(-15deg) scale(0.95); z-index: 2; opacity: 0.9; }
.carousel-card:nth-child(5) { transform: translateX(100px) rotateY(-30deg) scale(0.9); z-index: 1; opacity: 0.8; }

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.carousel-card:hover {
  transform: translateY(-20px) scale(1.2) rotateY(0deg) !important;
  z-index: 10 !important;
  opacity: 1 !important;
  box-shadow: 0 15px 30px rgba(0,0,0,0.5);
}

</style>
</head>
<body>

<div class="snow-container" id="snow"></div>

<div class="main-start glass" id="startScreen" onclick="openCard()">
  <div style="font-size: 100px;">üéÇ</div>
  <div style="font-weight:bold; font-size:22px;">–ù–∞–∂–º–∏ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫!</div>
</div>

<div class="modal" id="modal">
  <div class="modal-content glass">
    
    <div class="modal-header">
      <h2 style="margin: 0;">Happy Birthday! üéâ</h2>
    </div>

    <div class="scroll-body">
      
      <div class="player">
        <img id="cover" src="" alt="–û–±–ª–æ–∂–∫–∞">
        <div id="song-title">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        
        <div class="progress-container" id="progress-container">
          <div class="progress" id="progress"></div>
        </div>
        <div class="time-info">
          <span id="currTime">0:00</span>
          <span id="durTime">0:00</span>
        </div>
        
        <div class="controls">
          <button class="btn-ctrl" onclick="prevSong()">‚èÆÔ∏è</button>
          <button class="btn-ctrl" id="playBtn" onclick="toggleMusic()">‚ñ∂Ô∏è</button>
          <button class="btn-ctrl" onclick="nextSong()">‚è≠Ô∏è</button>
        </div>
      </div>

      <div class="birthday-text">
–ü—É—Å—Ç—å —Ç–≤–æ—è –∂–∏–∑–Ω—å –±—É–¥–µ—Ç –ø–æ—Ö–æ–∂–∞ –Ω–∞ —Å–∞–º—ã–π –∫—Ä—É—Ç–æ–π –∞–ª—å–±–æ–º: —Ç–æ–ª—å–∫–æ —Ö–∏—Ç—ã, –Ω–∏–∫–∞–∫–∏—Ö –ø–∞—É–∑ –∏ —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π –∑–≤—É–∫! üé∏‚ú®

–ñ–µ–ª–∞—é —Ç–µ–±–µ, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏–ª –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∞ —Ü–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–∞–ª–∏—Å—å –ª–µ–≥—á–µ, —á–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è —Ç—Ä–µ–∫ –≤ –ø–ª–µ–µ—Ä–µ. 

–ü—É—Å—Ç—å –≤ —Ç–≤–æ–µ–º "–ø–ª–µ–π–ª–∏—Å—Ç–µ" –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç:
‚úÖ –¢—Ä–µ–∫ "–£–¥–∞—á–∞" –Ω–∞ –ø–æ–≤—Ç–æ—Ä–µ
‚úÖ –†–µ–º–∏–∫—Å "–ó–¥–æ—Ä–æ–≤—å–µ –∏ –°–∏–ª–∞" 
‚úÖ –ò –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–æ—Ç–æ–∫ "–î–µ–Ω–µ–∂–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏" üí∏

–õ–∏—Å—Ç–∞–π –Ω–∏–∂–µ, —Ç–∞–º –µ—â–µ —Å—é—Ä–ø—Ä–∏–∑—ã... üëá
      </div>

      <div class="carousel-view">
        <div class="carousel-card"><img src="img/giphy.gif"></div>
        <div class="carousel-card"><img src="img/joy-23.gif"></div>
        <div class="carousel-card"><img src="img/cute-happy-birthday-sticker-wink-with-cake-nzv7n1fw5n4g6ngc.png"></div>
        <div class="carousel-card"><img src="img/020f0ed3-43be-479d-8325-0b40acf15ef5.png"></div>
        <div class="carousel-card"><img src="img/Let-Her-Go-Passenger-Covers-English-2014-500x500.jpg"></div>
      </div>

      <div class="birthday-text" style="margin-top:20px;">
–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è –µ—â–µ —Ä–∞–∑! –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ —Å—Ç–∞–Ω–µ—Ç –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–º! üî•
      </div>

    </div> </div>
</div>

<audio id="music"></audio>

<script>
// 1. –°–ù–ï–ñ–ò–ù–ö–ò
function createSnow() {
  const snowContainer = document.getElementById('snow');
  const symbols = ['‚ùÑ', '‚ùÖ', '‚ùÜ', '‚Ä¢'];
  for (let i = 0; i < 40; i++) {
    let flake = document.createElement('div');
    flake.className = 'snowflake';
    flake.innerText = symbols[Math.floor(Math.random() * symbols.length)];
    flake.style.left = Math.random() * 100 + 'vw';
    flake.style.animationDuration = (Math.random() * 3 + 4) + 's';
    flake.style.opacity = Math.random();
    flake.style.fontSize = (Math.random() * 10 + 10) + 'px';
    snowContainer.appendChild(flake);
  }
}
createSnow();

// 2. –õ–û–ì–ò–ö–ê –ü–õ–ï–ï–†–ê
const songs = [
  { title: "Happy Birthday", audio: "img/happy.mp3", cover: "img/020f0ed3-43be-479d-8325-0b40acf15ef5.png" },
  { title: "Let Her Go", audio: "img/Let Her Go.mp3", cover: "img/Let-Her-Go-Passenger-Covers-English-2014-500x500.jpg" }
];

let current = 0;
let isPlaying = false;
const audio = document.getElementById('music');
const playBtn = document.getElementById('playBtn');
const progress = document.getElementById('progress');

function openCard() {
  document.getElementById('startScreen').style.display = 'none';
  document.getElementById('modal').style.display = 'flex';
  loadSong(current);
}

function loadSong(index) {
  const song = songs[index];
  document.getElementById('song-title').textContent = song.title;
  document.getElementById('cover').src = song.cover;
  audio.src = song.audio;
  if (isPlaying) audio.play();
}

function toggleMusic() {
  if (isPlaying) { audio.pause(); playBtn.innerHTML = "‚ñ∂Ô∏è"; }
  else { audio.play(); playBtn.innerHTML = "‚è∏"; }
  isPlaying = !isPlaying;
}

function nextSong() { current = (current + 1) % songs.length; loadSong(current); }
function prevSong() { current = (current - 1 + songs.length) % songs.length; loadSong(current); }

audio.addEventListener('timeupdate', (e) => {
  const { duration, currentTime } = e.srcElement;
  if (isNaN(duration)) return;
  progress.style.width = `${(currentTime / duration) * 100}%`;
  document.getElementById('currTime').innerText = formatTime(currentTime);
  document.getElementById('durTime').innerText = formatTime(duration);
});

function formatTime(s) {
  let m = Math.floor(s / 60), sec = Math.floor(s % 60);
  return `${m}:${sec < 10 ? '0'+sec : sec}`;
}

document.getElementById('progress-container').addEventListener('click', function(e) {
  const width = this.clientWidth, clickX = e.offsetX;
  audio.currentTime = (clickX / width) * audio.duration;
});
audio.onended = nextSong;
</script>

</body>
</html>
